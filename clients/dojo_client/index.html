<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Demo: Layout with Dijit</title>
		<link rel="stylesheet" href="css/demo.css" media="screen">
		<link rel="stylesheet" href="css/style.css" media="screen">
		<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/dojo/1.9.1/dijit/themes/claro/claro.css" media="screen">
	</head>
	<body class="claro">
		<!-- load dojo -->
		<script src="//ajax.googleapis.com/ajax/libs/dojo/1.9.1/dojo/dojo.js"></script>
		<script>
			// An exploration in using dojo to programatically build the entire app.
			require([
				"dojo/on",
				"dojo/dom",
				"dojo/dom-construct",
				"dojo/dom-style",
				"dojo/dom-class",
			    "dijit/layout/BorderContainer",
			    "dijit/layout/ContentPane",
			    "dijit/layout/TabContainer",
			    "dijit/form/TextBox",
			    "dijit/form/Textarea",
			    "dojo/domReady!"
			], function(on, dom, domConstruct, domStyle, domClass, BorderContainer, ContentPane, TabContainer, TextBox, TextArea){
			    // create a BorderContainer as the top widget in the hierarchy
			    var bc = new BorderContainer({style: "height: 100%; width: 100%;"});

			    var bottom = new ContentPane({
			        region: "bottom"
			    });

			    var textInput = new TextBox({id: "textInput", value: "Say...", class: "cssInputConsole"});
			    domStyle.set(textInput.domNode, "width", "100%");
			    domClass.add(textInput.domNode, "cssConsole");

			    bottom.addChild(textInput);

			    bc.addChild(bottom);

			    var main = new ContentPane({
			        region: "center",
			        class: "outputScroll"
			    });

			    bc.addChild(bottom);

			    bc.addChild(main);

			    //Create DOM Bits
			    var setupDom = function(on, dom, domConstruct, target1, target2) {
			    	function doInput(evt) {
			    		if (evt.keyCode == 13) {
				    		var div = domConstruct.create("div", {innerHTML: this.get("value")});
				    		domConstruct.place(div, target2);
				    		target2.scrollTop = target2.scrollHeight;
				    		this.set("value", "");
			    		};
			    	}
			    	//var adderButton = domConstruct.create("button", {id: "adderButton", innerHTML: "Add"});
			    	on(textInput, "keydown", doInput);
			    	//target1.appendChild(adderButton);
			    }

			    setupDom(on, dom, domConstruct, bottom.domNode, main.domNode);

			    // put the top level widget into the document, and then call startup()
			    document.body.appendChild(bc.domNode);
			    bc.startup();
			});
		</script>
	</body>
</html>

